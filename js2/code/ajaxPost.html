<!DOCTYPE html>
<html>
<head>
  <title>AJAX-post</title>
  <style>
    p {font-size:20px}
  </style>
</head>
<body>
  <h1>Ajax-post</h1>
  <p>id：<input id="t1" type="text"></p>
  <p>姓名：<input id="t2" type="text"  onBlur="change()"></p>
  <p><span id="t4"></span></p>
  <script language="JavaScript" type="text/javascript">
	function change(){
        var t1=document.getElementById("t1");
        var t2=document.getElementById("t2");
		var t4=document.getElementById("t4");
        var xmlhttp = new XMLHttpRequest(); // 创建http请求
        xmlhttp.onreadystatechange = function() { // 当http请求的状态变化时执行
            if(xmlhttp.readyState == 4) { // 4-已收到http响应数据
                if(xmlhttp.status >= 200 && xmlhttp.status < 300 || xmlhttp.status == 304) { // 200~299-OK 304-unmodified
                    t4.innerHTML = xmlhttp.responseText;
                } else{
                    alert("error");
                }
            };
        };
        var v1 = t1.value;
		var v2 = t2.value;
		var param = "id="+ encodeURIComponent(v1) + "&name="+encodeURIComponent(v2);//汉字需要编码
		xmlhttp.open("post", "post.jsp", true);
		xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
		xmlhttp.send(param);
    }
  </script>
</body>
</html>
